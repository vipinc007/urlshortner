(this.webpackJsonpurlshortner=this.webpackJsonpurlshortner||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),s=a(10),o=a(12),u=(a(29),a(30),a(31),a(3)),i=a(4),m=a(5),h=a(6),d=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Shortit"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto float-right"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{to:"/urls",className:"nav-link"},"Urls")))))))}}]),a}(n.Component),p=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"@ This is a test project for instacar by Vipin cheriyanveetil"))))}}]),a}(n.Component),b=a(23),f=a(2),v=a.n(f),E=a(9),g="https://urlshortner007api.herokuapp.com/",y=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={url:"",shorturl:"",processing:!0,status:0,baseurl:"",ukey:null},e.generateShortUrl=function(){var t=e.generateRandomString(10,"1234567890abcdefghijklmnopqrsABCDEFGHIJKLMNOPQRSTUVWXYZ"),a=e.state.baseurl+"/a/"+t;e.setState({shorturl:a,ukey:t})},e.handleShortenurl=function(){e.setState({status:1}),e.addUrl(e.state)},e.addUrl=function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)},t.next=4,fetch(g+"urls",n);case 4:if(!(r=t.sent).ok){t.next=12;break}return t.next=8,r.json();case 8:t.sent,e.setState({status:2}),t.next=13;break;case 12:e.setState({status:3});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),e.setState({status:3});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({baseurl:window.location.origin.toString()})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"mt-5"},"Enter you url"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter your lengthy url here","aria-label":"Enter your lengthy url here","aria-describedby":"basic-addon2",name:"url",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:this.handleShortenurl,className:"btn btn-outline-secondary",type:"button",disabled:0===this.state.url.length},"Shorten It!"))),2==this.state.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("strong",null,"Success!")," Your short url is below."),r.a.createElement("input",{type:"text",className:"form-control",readOnly:!0,value:this.state.shorturl})),3==this.state.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-warning"},r.a.createElement("strong",null,"Failure!")," Oops ! An error occured.")))}},{key:"generateRandomString",value:function(e,t){for(var a="",n=e;n>0;n--)a+=t[Math.floor(Math.random()*t.length)];return a}},{key:"handleChange",value:function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(Object(b.a)({},t.target.name,t.target.value));case 2:return e.next=4,this.generateShortUrl();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component);var k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null))},N=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={urls:[],baseurl:"",loading:1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUrls();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadUrls",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({urls:[]}),this.setState({loading:1}),e.next=4,fetch(g+"urls");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,this.setState({urls:a}),this.setState({baseurl:window.location.origin.toString()}),this.setState({loading:0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"float-left"},r.a.createElement("h1",{className:"mt-5"},"List of urls")),r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{onClick:function(){return e.loadUrls()},type:"button",className:"btn btn-light mt-5",disabled:1===this.state.loading},"Refresh")),r.a.createElement("div",{className:"table-responsive"},1===this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("strong",null,"Info!")," We are loading the available info.")),r.a.createElement("table",{className:"table table-hover table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Url"),r.a.createElement("th",null,"Short Url"),r.a.createElement("th",null,"Created Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.urls.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.url),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/a/"+t.ukey,className:"nav-link",target:"_blank"},e.state.baseurl,"/a/",t.ukey)),r.a.createElement("td",null,t.createddate),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/analysis/"+t.id,className:"btn btn-success btn-sm"},"Analysis")))}))))))}}]),a}(n.Component),j=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={url:[],loading:1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUrlAnalytics();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadUrlAnalytics",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({url:[]}),this.setState({loading:1}),t=null,null!=this.props.match.params&&(t=this.props.match.params.id),e.next=6,fetch(g+"urlstatistic/"+t);case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,this.setState({url:n}),this.setState({baseurl:window.location.origin.toString()}),this.setState({loading:0}),console.log(this.state.url);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"float-left"},r.a.createElement("h1",{className:"mt-5"},"Analysis")),r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{onClick:function(){return e.loadUrlAnalytics()},type:"button",className:"btn btn-light mt-5",disabled:1===this.state.loading},"Refresh")),r.a.createElement("div",{className:"table-responsive"},1===this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("strong",null,"Info!")," We are loading the available info.")),this.state.url.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-hover table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"url"),r.a.createElement("th",null,"Short url"),r.a.createElement("th",null,"Created On"))),r.a.createElement("tbody",null,r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.url),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/a/"+t.ukey,className:"nav-link",target:"_blank"},e.state.baseurl,"/a/",t.ukey)),r.a.createElement("td",null,t.createddate)))),t.analysis.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"visit details"),r.a.createElement("table",{className:"table table-hover table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"No of visits"))),r.a.createElement("tbody",null,r.a.createElement("tr",{key:e.thedate},r.a.createElement("td",null,e.thedate),r.a.createElement("td",null,e.access_count)),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("table",{className:"table table-hover table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"at"))),r.a.createElement("tbody",null,e.rows.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.accesseddate))})))))))))})))}))))}}]),a}(n.Component),O=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t,a,n,r,l,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,null!=this.props.match.params&&(t=this.props.match.params.ukey),e.next=4,fetch(g+"url/"+t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,r=n[0].url,l=n[0].id,c={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({urlid:l})},e.next=13,fetch(g+"urlstatistics",c);case 13:return s=e.sent,e.next=16,s.json();case 16:e.sent,window.location.href=r;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),w=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Not found"))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=r.a.createElement(s.a,null,r.a.createElement(d,null),r.a.createElement("main",{role:"main",className:"container"},r.a.createElement("div",{className:"row"},"\xa0"),r.a.createElement("div",{className:"row"},"\xa0"),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:k}),r.a.createElement(o.a,{exact:!0,path:"/urls",component:N}),r.a.createElement(o.a,{exact:!0,path:"/a/:ukey",component:O}),r.a.createElement(o.a,{exact:!0,path:"/analysis/:id",component:j}),r.a.createElement(o.a,{component:w}))),r.a.createElement(p,null));c.a.render(S,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.5220404b.chunk.js.map